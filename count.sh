#!/usr/bin/env bash
# count_students.sh
# Bash script to analyze JSON student data

# Store the JSON in a variable (or read from a file)
json_data='{
  "1111": "Harsh",
  "1234": "Harshit Mishra",
  "2222": "Loki",
  "3333": "Sangam",
  "4321": "RUBY",
  "7894": "Kernel",
  "9759": "IRA",
  "25BCA00012": "AZMI FATIMA",
  "25BCA00016": "ARPIT SHARMA",
  "25BCA00022": "VISHESH",
  "25BCA00027": "SIDRA ISHTIYAQ",
  "25BCA00029": "PRATHVI RAJ",
  "25BCA00034": "MAHI ANAND",
  "25BCA00036": "SEEMA",
  "25BCA00038": "SHAURYA SAXENA",
  "25BCA00040": "ASHISH",
  "25BCA00044": "MAHIMA SAGAR",
  "25BCA00046": "TEJAS SAXENA",
  "25BCA00049": "ANAMIKA SINGH",
  "25BCA00051": "DEEPESH SINGH",
  "25BCA00056": "TEJAS",
  "25BCA00058": "MANTRA SHARMA",
  "25BCA00061": "VISHAL SHARMA",
  "25BCA00062": "NAFIA KHAN",
  "25BCA00068": "AASHISH PANDEY",
  "25BCA00069": "SHEETAL PRAJAPATI",
  "25BCA00070": "DEVENDRA",
  "25BCA00073": "DHRUV KOHLI",
  "25BCA00076": "ARISH RAZA",
  "25BCA00078": "ANIKET SAXENA",
  "25BCA00079": "Shivansh Upadhyay",
  "25BCA00080": "SEJAL RATHORE",
  "25BCA00083": "LAIBA NOOR",
  "25BCA00091": "ADITYA BAJPAI",
  "25BCA00094": "DIVYANSHI SHARMA",
  "25BCA00097": "LALIT CHAUHAN",
  "25BCA00104": "ANKITA MAURYA",
  "25BCA00105": "ATULANSH KUMAR",
  "25BCA00116": "AASHIKA SAHU",
  "25BCA00117": "RAJVEER KUMAR",
  "25BCA00118": "Neelam Gupta",
  "25BCA00122": "ANAMIKA PANDEY",
  "25BCA00127": "DEV",
  "25BCA00128": "YOGESH GAUTAM",
  "25BCA00129": "NITIN SOLANKI",
  "25BCA00130": "DEEKSHA SHARMA",
  "25BCA00132": "PRATIBHA DEVI",
  "25BCA00136": "AADI MASHI",
  "25BCA00137": "CHITRANSH KUMAR SINGH",
  "25BCA00138": "HIMANSHU RUHELA",
  "25BCA00144": "VAISHNAVI",
  "25BCA00146": "PALAK SHARMA",
  "25BCA00148": "PIYUSH KUMAR RAJPOOT",
  "25BCA00151": "SATYAM KUMAR JOHRI",
  "25BCA00152": "PRAGYA SRIVASTAV",
  "25BCA00154": "KRISHNA SHARMA",
  "25BCA00157": "DIVYANSHU SINGH",
  "25BCA00161": "MONIKA",
  "25BCA00164": "MUSKAN",
  "25BCA00171": "RAGHAV GAUTAM",
  "25BCA00175": "DEVENDRA KUMAR",
  "25BCA00177": "AYAN",
  "25BCA00178": "SWATI SAXENA",
  "25BCA00182": "AYUSHI PAL",
  "25BCA00183": "YOGESH MAURYA",
  "25BCA00200": "SIYA SINGH",
  "25BCA00202": "PRASHANT SINGH",
  "25BCA00205": "SHIVANG SAGAR",
  "25BCA00206": "GUNGUN",
  "25BCA00209": "NAMRITA SINGH",
  "25BCA00218": "SHAHISTA",
  "25BCA00225": "MOHD ZAID",
  "25BCA00231": "HARSHI SHARMA",
  "25BCA00232": "TANU",
  "25BCA00233": "KRISHNA",
  "25BCA00234": "VIVEK SAGAR",
  "25BCA00238": "NANCY",
  "25BCA00240": "MUKESH YADAV",
  "25BCA00246": "SATYAM RASTOGI",
  "25BCA00252": "MUBASHIRA FAHEEM",
  "25BCA00266": "RATNESH",
  "25BCA00270": "RISHABH MISHRA",
  "25BCA00275": "KUNAL",
  "25BCA00277": "AYUSHI GANGWAR",
  "25BCA00278": "VEDIKA MOURYA",
  "25BCA00285": "KRISHNA PATHAK",
  "25BCA00289": "HEMANT KUMAR",
  "25BCA00290": "VARSHA",
  "25BCA00298": "VINAY GANGWAR",
  "25BCA00303": "AYUSH KASHYAP",
  "25BCA00304": "ACHAL SINGH",
  "25BCA00323": "MOHD ANAS ALI",
  "25BCA00325": "MEHVISH",
  "25BCA00326": "AMAN SINGH",
  "25BCA00327": "ARJUN SINGH",
  "25BCA00329": "AMAN SINGH ANARIA",
  "25BCA00333": "SAPNA SINGH",
  "25BCA00335": "NOOTAN KUMARI",
  "25BCA00339": "PRIYANSHU",
  "25BCA00343": "Richa Joshi",
  "25BCA00347": "SAMEER SINGH",
  "25BCA00349": "KINJAL",
  "25BCA00353": "MUAZZAM HUSAIN",
  "25BCA00354": "GAURAV KUMAR",
  "25BCA00360": "ARJIT GANGWAR",
  "25BCA00365": "SAURAV SINGH",
  "25BCA00379": "VIKAS VERMA",
  "25BCA00385": "AASHISH KUMAR",
  "25BCA00387": "VANSH BHARDWAJ",
  "25BCA00390": "MOHD AYAN",
  "25BCA00391": "MANISH KUMAR",
  "25BCA00397": "ANJALI",
  "25BCA00401": "PIYUSH YADAV",
  "25BCA00402": "AKSH",
  "25BCA00406": "AADHAR AGARWAL",
  "25BCA00412": "PRAGYA",
  "25BCA00415": "ABHAY KUMAR",
  "25BCA00417": "KRISHNA DEVAL",
  "25BCA00418": "TRIPURARI",
  "25BCA00419": "TANU GUPTA",
  "25BCA00432": "SHITAL",
  "25BCA00434": "TARUN PAL",
  "25BCA00436": "ABHISHEK PAL",
  "25BCA00443": "YOGESH",
  "25BCA00444": "VIKAS SAGAR",
  "25BCA00446": "MOAZZAM SULTAN",
  "25BCA00448": "ARUN KUMAR",
  "25BCA00450": "ABHISHEK GANGWAR",
  "25BCA00452": "ANSHU GANGWAR",
  "25BCA00453": "RIYA KASHYAP",
  "25BCA00456": "ARUN GANGWAR",
  "25BCA00459": "ABHISHEK PAL",
  "25BCA00460": "SHUBH RAWAT",
  "25BCA00471": "ZUBAIR MANSOORI",
  "25BCA00481": "PRIYASNHU KUMAR SINGH",
  "25BCA00486": "KAUSHIKI VERMA",
  "25BCA00494": "KRISHNA SINGH",
  "25BCA00499": "DEVANSH SAXENA",
  "25BCA00505": "SHANI",
  "25BCA00517": "ABHISHEK SINGH ADHIKARI",
  "25BCA00519": "ANJALI PANDAY",
  "25BCA00521": "SAKSHI KUMARI",
  "25BCA00526": "PRABHAT KUMAR SINGH",
  "25BCA00530": "PRABHASHU",
  "25BCA00536": "KHUSHI MONDAL",
  "25BCA00541": "RUCHIT GANGWAR",
  "25BCA00544": "AKHILESH KUMAR",
  "25BCA00547": "NITIN",
  "25BCA00558": "DAVID",
  "25BCA00562": "VAISHNAVI",
  "25BCA00563": "VINOD",
  "25BCA00565": "AMIT SAGAR",
  "25BCA00571": "KAKUL",
  "25BCA00572": "PAYAL PAL",
  "25BCA00581": "ROHAN KUMAR",
  "25BCA00583": "PRADEEP KUMAR",
  "25BCA00589": "MO ARMAN",
  "25BCA00591": "DEVENDRA",
  "25BCA00594": "YASHI",
  "25BCA00601": "PRIYANSHI GARG",
  "25BCA00607": "ALIBNA",
  "25BCA00623": "INDRAJEET",
  "25BCA00630": "VANSHIKA",
  "25BCA00649": "Ayush Rajput",
  "25BCA00651": "ZAINAB",
  "25BCA00668": "SWETA",
  "25BCA00672": "JITASHA KHANKA",
  "25BCA00679": "MAHIMA CHAUHAN",
  "25BCA00683": "Jatin Kumar",
  "25BCA00686": "SUKHVINDER KASHYAP",
  "25BCA00687": "AKSHAT MISHRA",
  "25BCA00688": "ANKIT RAJ",
  "25BCA00690": "KUSHANSH GUPTA",
  "25BCA00692": "ANGEL PATEL",
  "25BCA00696": "ANSHIKA MISHRA",
  "25BCA00700": "SAURAV GIRI",
  "25BCA00703": "VANSHIKA SINGH",
  "25BCA00704": "NITESH RAJPOOT",
  "25BCA00705": "AMANDEEP SINGH",
  "25BCA00709": "NITIN YADAV",
  "25BCA00712": "SHREYA",
  "25BCA00722": "AFROJ AHMED",
  "25BCA00730": "DEVANSH SAXENA",
  "25BCA00736": "SAURABH GANGWAR",
  "25BCA00737": "ARYAN SINGH",
  "25BCA00738": "LALLA BABU",
  "25BCA00739": "TANIYA SAHU",
  "25BCA00748": "HARSHIT VERMA",
  "25BCA00751": "ALSHIFA FATIMA",
  "25BCA00761": "HEMANT KUMAR",
  "25BCA00764": "ABDULLAH KHAN",
  "25BCA200": "RUBY"
}'

# Colors
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
CYAN='\033[0;36m'
MAGENTA='\033[0;35m'
NC='\033[0m' # No Color

# Compute stats
total=$(echo "$json_data" | jq 'keys | length')
count_25BCA=$(echo "$json_data" | jq 'keys | map(select(startswith("25BCA"))) | length')
lowercase_count=$(echo "$json_data" | jq '[.[] | select(test("[a-z]"))] | length')
not_25BCA=$(echo "$json_data" | jq 'keys | map(select(startswith("25BCA") | not)) | length')
duplicates=$(echo "$json_data" | jq -r '.[]' | sort | uniq -d)
lower_letters=$(echo "$json_data" | jq -r '.[]' | tr -d -c 'a-z' | wc -c)
upper_letters=$(echo "$json_data" | jq -r '.[]' | tr -d -c 'A-Z' | wc -c)

# Display panel
echo -e "${MAGENTA}==============================================${NC}"
echo -e "${CYAN}     Nightmare outside the hood by H. Mishra${NC}"
echo -e "${MAGENTA}==============================================${NC}"

echo -e "${YELLOW}Total students:${NC} ${GREEN}$total${NC}"
echo -e "${YELLOW}Students with IDs starting 25BCA:${NC} ${GREEN}$count_25BCA${NC}"
echo -e "${YELLOW}Students NOT starting 25BCA:${NC} ${GREEN}$not_25BCA${NC}"
echo -e "${YELLOW}Names containing lowercase letters:${NC} ${GREEN}$lowercase_count${NC}"

echo -e "${YELLOW}Duplicate names:${NC}"
if [ -z "$duplicates" ]; then
    echo -e "${RED}None${NC}"
else
    echo -e "${RED}$duplicates${NC}"
fi

echo -e "${YELLOW}Total lowercase letters in all names:${NC} ${GREEN}$lower_letters${NC}"
echo -e "${YELLOW}Total uppercase letters in all names:${NC} ${GREEN}$upper_letters${NC}"

echo -e "${MAGENTA}==============================================${NC}"
